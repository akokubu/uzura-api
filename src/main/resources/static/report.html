<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>帳票アプリ</title>
<link rel="stylesheet" href="./bower_components/bootstrap-css-only/css/bootstrap.min.css" />
<link rel="stylesheet" href="./css/style.css" />
    

</head>
<body ng-app="ReportApp">

  <header class="container">
    <nav class="navbar navbar-default">
      <div class="navbar-header">
        <a href="#/" class="navbar-brand">帳票アプリ</a>
      </div>
      <div class="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#/">帳票一覧</a></li>
          <li><a href="#/new">帳票作成</a></li>    
        </ul>
      </div>
    </nav>
  </header>

  <div class="container" ng-view></div>

  <script type="text/javascript" src="./bower_components/angular/angular.min.js"></script>
  <script type="text/javascript" src="./bower_components/angular-route/angular-route.min.js"></script>
  <script type="text/javascript" src="./app/report_app.js"></script>

  <script type="text/ng-template" id="index-tmpl">
    <h1>帳票一覧</h1>
    <ul>
      <li>#x yyyy/mm/dd <a href="#/sheet/x">詳細を確認する</a></li>
      <li>#y yyyy/mm/dd <a href="#/sheet/y">詳細を確認する</a></li>
      <li>#z yyyy/mm/dd <a href="#/sheet/z">詳細を確認する</a></li>
    </ul>
  </script>

  <script type="text/ng-template" id="new-tmpl">
    <h1>帳票作成</h1>
    <form ng-submit="save()">
      <table class="table">
        <colgroup</colgroup>
        <colgroup span="3" class="col-sm"></colgroup>
        <colgroup</colgroup>
        <thead>
          <tr>
            <th>商品名</th>
            <th>単価</th>
            <th>個数</th>
            <th>小計</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="orderLine in lines">
            <td><input class="form-control" type="text ng-model="orderLine.productName" /></th>
            <td><input class="form-control" type="number" ng-model="orderLine.unitPrice" /></th>
            <td><input class="form-control" type="number" ng-model="orderLine.count" /></th>
            <td>{{ getSubtotal(orderLine) | number }}</td>
            <td><button type="button" class="btn btn-default" ng-click="removeLine(orderLine)">削除</button></td>
          </tr>
        </tbody>
          <tr>
            <td colspan="3">合計：</td>
            <td colspan="2">{{ getTotalAmount(lines) | number }}</td>
          </tr>
        </tfoot>
      </table>
      <div>
        <button type="button" class="btn btn-primary" ng-click="addLine()">明細行を追加</button>
        <button type="button" class="btn btn-danger" ng-click="initialize()">帳票を初期化</button>
        <button type="button" class="btn btn-success">帳票を保存</button>
      </div>
    </form>
  </script>
  
  <script type="text/ng-template" id="sheet-tmpl">
    <h1>帳票詳細 #x</h1>
    <p>作成日時： yyyy/mm/dd</p>
    <table class="table">
      <thead>
        <tr>
          <th>商品名</th>
          <th>単価</th>
          <th>個数</th>
          <th>小計</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>商品名１</td>
          <td>1,600</td>
          <td>10</td>
          <td>16,000</td>
        </tr>
        <tr>
          <td>商品名２</td>
          <td>2,000</td>
          <td>12</td>
          <td>24,000</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="3">合計：</td>
          <td>40,000</td>
        </tr>
      </tfoot>
    </table>
  </script>
</body>
</html>